<div class="card">
    <div class="flex justify-between items-center mb-8">
        <div class="font-bold text-3xl">Onay Bekleyen Mutabakatlar</div>
        <p-button icon="pi pi-refresh" label="Yenile" [text]="true" (onClick)="yukle()"></p-button>
    </div>

    <p-tabs value="0">
        <p-tablist>
            <p-tab value="0">
                <div class="flex items-center gap-2">
                    <i class="pi pi-briefcase"></i>
                    <span>Pompa Vardiyaları</span>
                    <p-tag [value]="vardiyalar.length.toString()" severity="info" *ngIf="vardiyalar.length > 0"></p-tag>
                </div>
            </p-tab>
            <p-tab value="1">
                <div class="flex items-center gap-2">
                    <i class="pi pi-shopping-cart"></i>
                    <span>Market Vardiyaları</span>
                    <p-tag [value]="marketVardiyalar.length.toString()" severity="warning"
                        *ngIf="marketVardiyalar.length > 0"></p-tag>
                </div>
            </p-tab>
        </p-tablist>
        <p-tabpanels>
            <p-tabpanel value="0">
                <p-table [value]="vardiyalar" [tableStyle]="{ 'min-width': '50rem' }" [rows]="10" [paginator]="true">
                    <ng-template pTemplate="header">
                        <tr>
                            <th>ID</th>
                            <th>Tarih</th>
                            <th>Dosya Adı</th>
                            <th>Toplam Tutar</th>
                            <th>İstasyon</th>
                            <th>Durum</th>
                            <th>İşlemler</th>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-vardiya>
                        <tr>
                            <td><span class="text-muted-color">#</span>{{ vardiya.id }}</td>
                            <td>{{ vardiya.baslangicTarihi | date:'dd.MM.yyyy HH:mm' }}</td>
                            <td class="font-medium">{{ vardiya.dosyaAdi }}</td>
                            <td class="font-bold text-lg">{{ vardiya.genelToplam |
                                currency:'TRY':'symbol-narrow':'1.2-2' }}</td>
                            <td>{{ vardiya.istasyonAdi }}</td>
                            <td>
                                <p-tag [value]="'Onay Bekliyor'" severity="warning" icon="pi pi-clock"></p-tag>
                            </td>
                            <td>
                                <div class="flex gap-2">
                                    <p-button icon="pi pi-search" label="İncele" severity="info" [rounded]="true"
                                        [outlined]="true" tooltipPosition="top" pTooltip="Detayları İncele"
                                        [loading]="loading && seciliVardiya?.id === vardiya.id" [disabled]="loading"
                                        (onClick)="incele(vardiya)"></p-button>
                                </div>
                            </td>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="emptymessage">
                        <tr>
                            <td colspan="7" class="text-center p-8">
                                <div class="flex flex-col items-center gap-4 text-muted-color opacity-60">
                                    <i class="pi pi-check-circle text-6xl"></i>
                                    <span class="font-medium text-xl">Bekleyen onay bulunmuyor. Her şey yolunda!</span>
                                </div>
                            </td>
                        </tr>
                    </ng-template>
                </p-table>
            </p-tabpanel>

            <p-tabpanel value="1">
                <p-table [value]="marketVardiyalar" [tableStyle]="{ 'min-width': '50rem' }" [rows]="10"
                    [paginator]="true">
                    <ng-template pTemplate="header">
                        <tr>
                            <th>ID</th>
                            <th>Tarih</th>
                            <th>Top. Satış</th>
                            <th>Top. Teslimat</th>
                            <th>Fark</th>
                            <th>Durum</th>
                            <th>İşlemler</th>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-vardiya>
                        <tr>
                            <td><span class="text-muted-color">#</span>{{ vardiya.id }}</td>
                            <td>{{ vardiya.tarih | date:'dd.MM.yyyy' }}</td>
                            <td class="font-bold">{{ vardiya.toplamSatisTutari | currency:'TRY':'symbol-narrow':'1.2-2'
                                }}</td>
                            <td class="font-bold text-green-600">{{ vardiya.toplamTeslimatTutari |
                                currency:'TRY':'symbol-narrow':'1.2-2' }}</td>
                            <td class="font-bold"
                                [ngClass]="{'text-red-500': (vardiya.toplamFark || 0) < 0, 'text-blue-500': (vardiya.toplamFark || 0) > 0}">
                                {{ vardiya.toplamFark | currency:'TRY':'symbol-narrow':'1.2-2' }}</td>
                            <td>
                                <p-tag [value]="'Onay Bekliyor'" severity="warning" icon="pi pi-clock"></p-tag>
                            </td>
                            <td>
                                <div class="flex gap-2">
                                    <p-button icon="pi pi-search" label="İncele" severity="info" [rounded]="true"
                                        [outlined]="true" tooltipPosition="top" pTooltip="Detayları İncele"
                                        (onClick)="marketIncele(vardiya)"></p-button>
                                </div>
                            </td>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="emptymessage">
                        <tr>
                            <td colspan="7" class="text-center p-8">
                                <div class="flex flex-col items-center gap-4 text-muted-color opacity-60">
                                    <i class="pi pi-check-circle text-6xl"></i>
                                    <span class="font-medium text-xl">Bekleyen market onayı bulunmuyor.</span>
                                </div>
                            </td>
                        </tr>
                    </ng-template>
                </p-table>
            </p-tabpanel>
        </p-tabpanels>
    </p-tabs>

    <!-- Detay Modalı -->
    <p-dialog [(visible)]="detayVisible" [modal]="true" [header]="'Mutabakat Detayı: ' + seciliVardiya?.dosyaAdi"
        [style]="{ width: '90vw' }" [maximizable]="true" [draggable]="false" [resizable]="false">

        <div *ngIf="seciliVardiya && genelOzet" class="flex flex-col gap-6">

            <!-- Üst Bilgi Kartları -->
            <div class="grid grid-cols-1 md:grid-cols-5 gap-4">
                <div
                    class="surface-card p-4 shadow-sm border border-surface-200 rounded-xl flex flex-col items-center justify-center text-center">
                    <span class="text-sm text-muted-color font-medium uppercase tracking-wide mb-2">Pompa Cirosu</span>
                    <span class="text-3xl font-bold text-primary">{{ genelOzet.pompaToplam |
                        currency:'TRY':'symbol-narrow':'1.2-2' }}</span>
                </div>
                <div
                    class="surface-card p-4 shadow-sm border border-surface-200 rounded-xl flex flex-col items-center justify-center text-center">
                    <span class="text-sm text-muted-color font-medium uppercase tracking-wide mb-2">Pompacı
                        Satışları</span>
                    <span class="text-3xl font-bold text-green-600">{{ pompaciSatisTutar |
                        currency:'TRY':'symbol-narrow':'1.2-2'
                        }}</span>
                </div>
                <!-- Toplam Kredi Kartı Kartı -->
                <div class="surface-card p-4 shadow-sm border border-surface-200 rounded-xl flex flex-col items-center justify-center text-center cursor-pointer hover:bg-surface-50 transition-colors"
                    (click)="openKrediKartiDetay()">
                    <span class="text-sm text-muted-color font-medium uppercase tracking-wide mb-2">Toplam K.
                        Kartı</span>
                    <span class="text-3xl font-bold text-blue-600">{{ toplamKrediKarti |
                        currency:'TRY':'symbol-narrow':'1.2-2' }}</span>
                    <span class="text-xs text-muted-color mt-1"><i class="pi pi-search mr-1"></i>Detay</span>
                </div>
                <div
                    class="surface-card p-4 shadow-sm border border-surface-200 rounded-xl flex flex-col items-center justify-center text-center">
                    <span class="text-sm text-muted-color font-medium uppercase tracking-wide mb-2">Toplam Nakit</span>
                    <span class="text-3xl font-bold text-red-500">{{ pompaciNakitToplam |
                        currency:'TRY':'symbol-narrow':'1.2-2' }}</span>
                </div>
                <div
                    class="surface-card p-4 shadow-sm border border-surface-200 rounded-xl flex flex-col items-center justify-center text-center bg-gray-50 dark:bg-gray-800">
                    <span class="text-sm text-muted-color font-medium uppercase tracking-wide mb-2">Fark Durumu</span>
                    <div class="flex items-center gap-2">
                        <i class="pi pi-circle-fill text-xs"
                            [ngClass]="{'text-green-500': pompaFarkDurumRenk === 'success', 'text-warning-500': pompaFarkDurumRenk === 'warn', 'text-red-500': pompaFarkDurumRenk === 'danger'}"></i>
                        <span class="text-3xl font-bold"
                            [ngClass]="{'text-green-600': pompaFarkDurumRenk === 'success', 'text-orange-600': pompaFarkDurumRenk === 'warn', 'text-red-600': pompaFarkDurumRenk === 'danger'}">
                            {{ pompaFark | currency:'TRY':'symbol-narrow':'1.2-2' }}
                        </span>
                    </div>
                </div>
            </div>

            <p-tabs [(value)]="activeTab">
                <p-tablist>
                    <p-tab value="0">
                        <div class="flex items-center gap-2">
                            <i class="pi pi-users"></i>
                            <span>Pompa & Personel</span>
                        </div>
                    </p-tab>
                    <p-tab value="1">
                        <div class="flex items-center gap-2">
                            <i class="pi pi-credit-card"></i>
                            <span>Tahsilat Detayları</span>
                        </div>
                    </p-tab>
                    <p-tab value="2">
                        <div class="flex items-center gap-2">
                            <i class="pi pi-shopping-cart"></i>
                            <span>Market</span>
                        </div>
                    </p-tab>
                    <p-tab value="3">
                        <div class="flex items-center gap-2">
                            <i class="pi pi-wallet"></i>
                            <span>Giderler</span>
                        </div>
                    </p-tab>
                </p-tablist>

                <p-tabpanels>
                    <!-- SEKME 1: POMPA & PERSONEL -->
                    <p-tabpanel value="0">
                        <div class="grid grid-cols-1 mt-4">
                            <p-table [value]="farkAnalizi" styleClass="p-datatable-sm p-datatable-striped"
                                [rowHover]="true">
                                <ng-template pTemplate="header">
                                    <tr>
                                        <th>Personel</th>
                                        <th class="text-right">Otomasyon Satış</th>
                                        <th class="text-right">Nakit</th>
                                        <th class="text-right">Kredi Kartı</th>
                                        <th class="text-right">Paro Puan</th>
                                        <th class="text-right">Mobil Ödeme</th>
                                        <th class="text-right">Pusula Toplam</th>
                                        <th class="text-right">Fark</th>
                                        <th class="text-center">Durum</th>
                                    </tr>
                                </ng-template>
                                <ng-template pTemplate="body" let-item>
                                    <tr>
                                        <td class="font-medium">{{ item.personelAdi }}</td>
                                        <td class="text-right text-muted-color">{{ item.otomasyonToplam |
                                            currency:'TRY':'symbol-narrow':'1.2-2' }}</td>
                                        <td class="text-right">{{ item.pusulaDokum?.nakit |
                                            currency:'TRY':'symbol-narrow':'1.2-2' }}</td>
                                        <td class="text-right">{{ item.pusulaDokum?.krediKarti |
                                            currency:'TRY':'symbol-narrow':'1.2-2' }}</td>
                                        <td class="text-right">{{ item.pusulaDokum?.paroPuan |
                                            currency:'TRY':'symbol-narrow':'1.2-2' }}</td>
                                        <td class="text-right">{{ item.pusulaDokum?.mobilOdeme |
                                            currency:'TRY':'symbol-narrow':'1.2-2' }}</td>
                                        <td class="text-right font-bold">{{ item.pusulaToplam |
                                            currency:'TRY':'symbol-narrow':'1.2-2' }}</td>
                                        <td class="text-right"
                                            [ngClass]="{'text-red-500': item.fark < -1, 'text-green-500': item.fark > 1}">
                                            {{ item.fark | currency:'TRY':'symbol-narrow':'1.2-2' }}
                                        </td>
                                        <td class="text-center">
                                            <p-tag *ngIf="item.farkDurum === 'UYUMLU'" value="Uyumlu"
                                                severity="success"></p-tag>
                                            <p-tag *ngIf="item.farkDurum === 'ACIK'" value="Açık"
                                                severity="danger"></p-tag>
                                            <p-tag *ngIf="item.farkDurum === 'FAZLA'" value="Fazla"
                                                severity="warning"></p-tag>
                                        </td>
                                    </tr>
                                </ng-template>
                            </p-table>
                        </div>
                    </p-tabpanel>
                    <p-tabpanel value="1">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mt-4">
                            <!-- Sol: Tahsilat Özeti -->
                            <div class="flex flex-col gap-4">
                                <h3 class="text-lg font-bold border-b pb-2">Tahsilat Özeti</h3>
                                <div class="flex justify-between p-3 bg-surface-50 rounded">
                                    <span>Nakit</span>
                                    <span class="font-bold">{{ genelOzet.toplamNakit |
                                        currency:'TRY':'symbol-narrow':'1.2-2' }}</span>
                                </div>
                                <div class="flex justify-between p-3 rounded">
                                    <span>Kredi Kartı</span>
                                    <span class="font-bold text-blue-600">{{ genelOzet.toplamKrediKarti |
                                        currency:'TRY':'symbol-narrow':'1.2-2' }}</span>
                                </div>
                                <div class="flex justify-between p-3 bg-surface-50 rounded">
                                    <span>Paro Puan</span>
                                    <span class="font-bold">{{ genelOzet.toplamParoPuan |
                                        currency:'TRY':'symbol-narrow':'1.2-2' }}</span>
                                </div>
                                <div class="flex justify-between p-3 rounded">
                                    <span>Mobil Ödeme</span>
                                    <span class="font-bold">{{ genelOzet.toplamMobilOdeme |
                                        currency:'TRY':'symbol-narrow':'1.2-2' }}</span>
                                </div>
                                <div class="flex justify-between p-3 bg-green-50 rounded border border-green-100 mt-2">
                                    <span class="font-bold text-green-800">Toplam Tahsilat</span>
                                    <span class="font-bold text-green-800">{{ (genelOzet.toplamNakit +
                                        genelOzet.toplamKrediKarti + genelOzet.toplamParoPuan +
                                        genelOzet.toplamMobilOdeme) | currency:'TRY':'symbol-narrow':'1.2-2' }}</span>
                                </div>
                            </div>

                            <!-- Sağ: Kredi Kartı Detayları -->
                            <div class="flex flex-col gap-4">
                                <h3 class="text-lg font-bold border-b pb-2">Kredi Kartı Detayları</h3>
                                <p-table [value]="pusulaKrediKartiDetaylari"
                                    styleClass="p-datatable-sm p-datatable-striped" [scrollable]="true"
                                    scrollHeight="300px">
                                    <ng-template pTemplate="header">
                                        <tr>
                                            <th>Banka</th>
                                            <th class="text-right">Tutar</th>
                                        </tr>
                                    </ng-template>
                                    <ng-template pTemplate="body" let-item>
                                        <tr
                                            [ngClass]="{'border-t-2 border-dashed border-surface-300 dark:border-surface-600': item.showSeparator}">
                                            <td
                                                [ngClass]="{'font-bold text-surface-900 dark:text-surface-0': item.isSpecial}">
                                                {{item.banka}}
                                            </td>
                                            <td class="text-right font-bold"
                                                [ngClass]="{'text-purple-600': item.isSpecial}">
                                                {{item.tutar | currency:'TRY':'symbol-narrow':'1.2-2'}}
                                            </td>
                                        </tr>
                                    </ng-template>
                                    <ng-template pTemplate="emptymessage">
                                        <tr>
                                            <td colspan="2" class="text-center p-4 text-muted-color">Kredi kartı detayı
                                                bulunamadı.</td>
                                        </tr>
                                    </ng-template>
                                </p-table>
                            </div>
                        </div>
                    </p-tabpanel>

                    <!-- SEKME 3: MARKET -->
                    <p-tabpanel value="2">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mt-4" *ngIf="marketOzet">
                            <div class="flex flex-col gap-4">
                                <h3 class="text-lg font-bold border-b pb-2">Z-Raporu ve Satışlar</h3>
                                <div class="flex justify-between p-3 bg-surface-50 rounded">
                                    <span>Z Raporu Toplamı</span>
                                    <span class="font-bold">{{ marketOzet.zRaporuToplam |
                                        currency:'TRY':'symbol-narrow':'1.2-2' }}</span>
                                </div>
                                <div class="flex justify-between p-3 rounded">
                                    <span>Toplam KDV</span>
                                    <span>{{ marketOzet.kdvDokum.toplam | currency:'TRY':'symbol-narrow':'1.2-2'
                                        }}</span>
                                </div>
                            </div>
                            <div class="flex flex-col gap-4">
                                <h3 class="text-lg font-bold border-b pb-2">Kasa Durumu</h3>
                                <div class="flex justify-between p-3 bg-surface-50 rounded">
                                    <span>Toplam Tahsilat (Nakit+KK)</span>
                                    <span class="font-bold text-green-600">{{ marketOzet.tahsilatToplam |
                                        currency:'TRY':'symbol-narrow':'1.2-2' }}</span>
                                </div>
                                <div class="flex justify-between p-3 rounded">
                                    <span>Market Giderleri</span>
                                    <span class="text-red-500">- {{ marketOzet.giderToplam |
                                        currency:'TRY':'symbol-narrow':'1.2-2' }}</span>
                                </div>
                                <div class="flex justify-between p-3 bg-blue-50 rounded border border-blue-100">
                                    <span class="font-bold text-blue-800">Net Kasa</span>
                                    <span class="font-bold text-blue-800">{{ marketOzet.netKasa |
                                        currency:'TRY':'symbol-narrow':'1.2-2' }}</span>
                                </div>
                            </div>
                        </div>
                        <div *ngIf="!marketOzet" class="text-center p-8 text-muted-color">Market verisi bulunamadı.
                        </div>
                    </p-tabpanel>

                    <!-- SEKME 4: GİDERLER -->
                    <p-tabpanel value="3">
                        <div class="mt-4">
                            <p-table
                                [value]="(vardiyaOzet?.pompaOzet?.giderToplam ? [{tutar: vardiyaOzet?.pompaOzet?.giderToplam, tur: 'Pompa Giderleri'}] : [])"
                                styleClass="p-datatable-sm">
                                <ng-template pTemplate="header">
                                    <tr>
                                        <th>Gider Türü</th>
                                        <th class="text-right">Tutar</th>
                                    </tr>
                                </ng-template>
                                <ng-template pTemplate="body" let-gider>
                                    <tr>
                                        <td>{{gider.tur}}</td>
                                        <td class="text-right font-bold text-red-500">{{gider.tutar |
                                            currency:'TRY':'symbol-narrow':'1.2-2'}}</td>
                                    </tr>
                                </ng-template>
                                <ng-template pTemplate="footer">
                                    <tr>
                                        <td class="text-right font-bold">Toplam Gider:</td>
                                        <td class="text-right font-bold text-red-600">{{ genelOzet.toplamGider |
                                            currency:'TRY':'symbol-narrow':'1.2-2' }}</td>
                                    </tr>
                                </ng-template>
                            </p-table>
                        </div>
                    </p-tabpanel>
                </p-tabpanels>
            </p-tabs>

            <div class="flex justify-between items-center mt-6 pt-6 border-t border-surface-200">
                <div class="text-sm text-muted-color">
                    Onaya gönderen: Sistem<br>
                    Tarih: {{ seciliVardiya.guncellemeTarihi | date:'dd.MM.yyyy HH:mm' }}
                </div>
                <div class="flex gap-3">
                    <p-button label="Reddet" icon="pi pi-times" severity="danger" [outlined]="true"
                        (onClick)="reddetDialogAc(seciliVardiya)"></p-button>
                    <p-button label="Onayla ve Kapat" icon="pi pi-check" severity="success"
                        (onClick)="onayla(seciliVardiya)"></p-button>
                </div>
            </div>
        </div>
    </p-dialog>

    <!-- Reddetme Dialog -->
    <p-dialog header="Vardiya Red İşlemi" [(visible)]="redDialogVisible" [modal]="true" [style]="{width: '450px'}">
        <div class="flex flex-col gap-4">
            <p class="text-muted-color mb-2">Bu mutabakatı reddetmek üzeresiniz. Lütfen aşağıya işlemin nedenini
                açıklayan bir not giriniz.</p>
            <div class="flex flex-col gap-2">
                <label for="neden" class="font-bold">Red Nedeni</label>
                <textarea pInputTextarea id="neden" [(ngModel)]="redNedeni" rows="4" class="w-full"
                    placeholder="Örn: Kasa sayımında eksik var, fişler kontrol edilmeli..."></textarea>
            </div>
        </div>
        <ng-template pTemplate="footer">
            <p-button label="İptal" icon="pi pi-times" [text]="true" (onClick)="redDialogVisible = false"></p-button>
            <p-button label="Reddet" icon="pi pi-check" severity="danger" (onClick)="reddetIslemi()"></p-button>
        </ng-template>
    </p-dialog>

    <!-- Market Detay Modalı -->
    <p-dialog [(visible)]="marketDetayVisible" [modal]="true"
        [header]="'Market Vardiya Detayı: ' + (seciliMarketVardiya?.tarih | date:'dd.MM.yyyy')"
        [style]="{ width: '70vw' }" [maximizable]="true" [draggable]="false" [resizable]="false">

        <div *ngIf="seciliMarketVardiya && marketOzet" class="flex flex-col gap-6">

            <!-- Üst Bilgi Kartları -->
            <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                <div
                    class="surface-card p-4 shadow-sm border border-surface-200 rounded-xl flex flex-col items-center justify-center text-center">
                    <span class="text-sm text-muted-color font-medium uppercase tracking-wide mb-2">Toplam Satış</span>
                    <span class="text-3xl font-bold text-primary">{{ marketOzet.zRaporuToplam |
                        currency:'TRY':'symbol-narrow':'1.2-2' }}</span>
                </div>
                <div
                    class="surface-card p-4 shadow-sm border border-surface-200 rounded-xl flex flex-col items-center justify-center text-center">
                    <span class="text-sm text-muted-color font-medium uppercase tracking-wide mb-2">Toplam
                        Tahsilat</span>
                    <span class="text-3xl font-bold text-green-600">{{ marketOzet.tahsilatToplam |
                        currency:'TRY':'symbol-narrow':'1.2-2' }}</span>
                </div>
                <div
                    class="surface-card p-4 shadow-sm border border-surface-200 rounded-xl flex flex-col items-center justify-center text-center">
                    <span class="text-sm text-muted-color font-medium uppercase tracking-wide mb-2">Giderler</span>
                    <span class="text-3xl font-bold text-red-500">{{ marketOzet.giderToplam |
                        currency:'TRY':'symbol-narrow':'1.2-2' }}</span>
                </div>
                <div
                    class="surface-card p-4 shadow-sm border border-surface-200 rounded-xl flex flex-col items-center justify-center text-center bg-gray-50 dark:bg-gray-800">
                    <span class="text-sm text-muted-color font-medium uppercase tracking-wide mb-2">Net Kasa</span>
                    <span class="text-3xl font-bold text-blue-800">{{ marketOzet.netKasa |
                        currency:'TRY':'symbol-narrow':'1.2-2' }}</span>
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div class="flex flex-col gap-4">
                    <h3 class="text-lg font-bold border-b pb-2">Z-Raporu Detayları</h3>
                    <div class="flex justify-between p-3 bg-surface-50 rounded">
                        <span>Z Raporu No</span>
                        <span class="font-bold">{{ seciliMarketVardiya.zRaporuNo || '-' }}</span>
                    </div>
                    <div class="flex justify-between p-3 rounded">
                        <span>Toplam KDV</span>
                        <span>{{ marketOzet.kdvDokum.toplam | currency:'TRY':'symbol-narrow':'1.2-2' }}</span>
                    </div>
                </div>

                <div class="flex flex-col gap-4">
                    <h3 class="text-lg font-bold border-b pb-2">Fark Analizi</h3>
                    <div class="flex justify-between p-3 bg-surface-50 rounded">
                        <span>Hesaplanan Satış</span>
                        <span class="font-bold">{{ marketOzet.zRaporuToplam | currency:'TRY':'symbol-narrow':'1.2-2'
                            }}</span>
                    </div>
                    <div class="flex justify-between p-3 rounded">
                        <span>Teslim Edilen</span>
                        <span class="font-bold text-green-600">{{ marketOzet.tahsilatToplam |
                            currency:'TRY':'symbol-narrow':'1.2-2' }}</span>
                    </div>
                    <div class="flex justify-between p-3 bg-blue-50 rounded border border-blue-100">
                        <span class="font-bold text-blue-800">Fark</span>
                        <span class="font-bold"
                            [ngClass]="{'text-red-500': (seciliMarketVardiya.toplamFark || 0) < 0, 'text-blue-500': (seciliMarketVardiya.toplamFark || 0) > 0}">
                            {{ seciliMarketVardiya.toplamFark | currency:'TRY':'symbol-narrow':'1.2-2' }}
                        </span>
                    </div>
                </div>
            </div>

            <div class="flex justify-end mt-6 pt-6 border-t border-surface-200">
                <p-button label="Kapat" icon="pi pi-times" [outlined]="true"
                    (onClick)="marketDetayVisible = false"></p-button>
            </div>
        </div>
    </p-dialog>
</div>

<p-confirmdialog></p-confirmdialog>