<div class="card">
    <div class="flex flex-col md:flex-row gap-4 mb-4 items-end">
        <div class="flex-1 grid grid-cols-1 md:grid-cols-2 gap-4">
            <div class="flex flex-col gap-2">
                <label class="font-bold">Başlangıç Tarihi</label>
                <p-datePicker [(ngModel)]="baslangicTarihi" dateFormat="dd.mm.yy" [showIcon]="true"
                    inputId="baslangic"></p-datePicker>
            </div>
            <div class="flex flex-col gap-2">
                <label class="font-bold">Bitiş Tarihi</label>
                <p-datePicker [(ngModel)]="bitisTarihi" dateFormat="dd.mm.yy" [showIcon]="true"
                    inputId="bitis"></p-datePicker>
            </div>
        </div>
        <div class="flex gap-2">
            <p-button label="Bugün" [text]="true" size="small" (onClick)="tarihAyarla('bugun')"></p-button>
            <p-button label="Dün" [text]="true" size="small" (onClick)="tarihAyarla('dun')"></p-button>
            <p-button label="Bu Ay" [text]="true" size="small" (onClick)="tarihAyarla('buAy')"></p-button>
            <p-button label="Geçen Ay" [text]="true" size="small" (onClick)="tarihAyarla('gecenAy')"></p-button>
            <p-button label="Raporla" icon="pi pi-search" (onClick)="raporla()" severity="primary"></p-button>
        </div>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4">
        <p-card styleClass="bg-blue-50 border-none shadow-none">
            <div class="text-blue-600 font-medium mb-2">Toplam Vardiya</div>
            <div class="text-2xl font-bold text-blue-900">{{ozet.toplamVardiya}}</div>
        </p-card>
        <p-card styleClass="bg-green-50 border-none shadow-none">
            <div class="text-green-600 font-medium mb-2">Toplam Ciro</div>
            <div class="text-2xl font-bold text-green-900">{{ozet.toplamTutar | currency:'TRY':'symbol-narrow':'1.2-2'}}
            </div>
        </p-card>
        <p-card styleClass="bg-orange-50 border-none shadow-none">
            <div class="text-orange-600 font-medium mb-2">Toplam Litre</div>
            <div class="text-2xl font-bold text-orange-900">{{ozet.toplamLitre | number:'1.2-2'}} Lt</div>
        </p-card>
        <p-card styleClass="bg-purple-50 border-none shadow-none">
            <div class="text-purple-600 font-medium mb-2">Toplam Gider</div>
            <div class="text-2xl font-bold text-purple-900">{{ozet.toplamGider |
                currency:'TRY':'symbol-narrow':'1.2-2'}}</div>
        </p-card>
    </div>

    <p-table [value]="vardiyalar" [paginator]="true" [rows]="10" [loading]="loading" styleClass="p-datatable-sm"
        [rowHover]="true">
        <ng-template pTemplate="header">
            <tr>
                <th>Tarih</th>
                <th>Dosya Adı</th>
                <th class="text-right">Tutar</th>
                <th class="text-center">Durum</th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-vardiya>
            <tr>
                <td>{{vardiya.tarih | date:'dd.MM.yyyy HH:mm'}}</td>
                <td>{{vardiya.dosyaAdi}}</td>
                <td class="text-right font-bold">{{vardiya.tutar | currency:'TRY':'symbol-narrow':'1.2-2'}}</td>
                <td class="text-center">
                    <p-tag [value]="vardiya.durum"
                        [severity]="vardiya.durum === 'ONAYLANDI' ? 'success' : vardiya.durum === 'ACIK' ? 'info' : vardiya.durum === 'REDDEDILDI' ? 'danger' : 'warn'"></p-tag>
                </td>
            </tr>
        </ng-template>
        <ng-template pTemplate="emptymessage">
            <tr>
                <td colspan="4" class="text-center p-4">Bu tarih aralığında kayıt bulunamadı.</td>
            </tr>
        </ng-template>
    </p-table>
</div>