2026-01-04 04:20:20.890 +03:00 [WRN] Firebase credential dosyası bulunamadı: firebase-adminsdk.json. Push bildirimleri çalışmayacak.
2026-01-04 04:20:30.768 +03:00 [WRN] Firebase credential dosyası bulunamadı: firebase-adminsdk.json. Push bildirimleri çalışmayacak.
2026-01-04 04:20:30.909 +03:00 [INF] Veritabanına bağlanılıyor (Deneme 1)...
2026-01-04 04:20:31.620 +03:00 [INF] Veritabanı migration işlemleri başarıyla tamamlandı.
2026-01-04 04:20:33.547 +03:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Aciklama", c."BelgeNo", c."CariKartId", c."IslemTipi", c."OlusturanId", c."OlusturmaTarihi", c."Tarih", c."Tutar", c."VardiyaId"
FROM "CariHareketler" AS c
WHERE c."CariKartId" = @__id_0
ORDER BY c."Tarih" DESC, c."Id" DESC
LIMIT @__p_1
2026-01-04 04:20:33.558 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'IstasyonDemo.Api.Data.AppDbContext'.
Npgsql.PostgresException (0x80004005): 42703: column c.BelgeNo does not exist

POSITION: 30
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column c.BelgeNo does not exist
    Position: 30
    File: parse_relation.c
    Line: 3665
    Routine: errorMissingColumn
Npgsql.PostgresException (0x80004005): 42703: column c.BelgeNo does not exist

POSITION: 30
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column c.BelgeNo does not exist
    Position: 30
    File: parse_relation.c
    Line: 3665
    Routine: errorMissingColumn
2026-01-04 04:20:33.569 +03:00 [ERR] Something went wrong: 42703: column c.BelgeNo does not exist

POSITION: 30
Npgsql.PostgresException (0x80004005): 42703: column c.BelgeNo does not exist

POSITION: 30
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at IstasyonDemo.Api.Controllers.CariController.GetHareketler(Int32 id) in C:\Users\user\TiShift\istasyon\backend\IstasyonDemo.Api\Controllers\CariController.cs:line 81
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at IstasyonDemo.Api.Middleware.UserActivityMiddleware.InvokeAsync(HttpContext context, AppDbContext dbContext) in C:\Users\user\TiShift\istasyon\backend\IstasyonDemo.Api\Middleware\UserActivityMiddleware.cs:line 34
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at IstasyonDemo.Api.Middleware.SecurityHeadersMiddleware.InvokeAsync(HttpContext context) in C:\Users\user\TiShift\istasyon\backend\IstasyonDemo.Api\Middleware\SecurityHeadersMiddleware.cs:line 81
   at IstasyonDemo.Api.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\user\TiShift\istasyon\backend\IstasyonDemo.Api\Middleware\ExceptionMiddleware.cs:line 23
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column c.BelgeNo does not exist
    Position: 30
    File: parse_relation.c
    Line: 3665
    Routine: errorMissingColumn
2026-01-04 04:24:06.214 +03:00 [WRN] Firebase credential dosyası bulunamadı: firebase-adminsdk.json. Push bildirimleri çalışmayacak.
2026-01-04 04:24:32.086 +03:00 [WRN] Firebase credential dosyası bulunamadı: firebase-adminsdk.json. Push bildirimleri çalışmayacak.
2026-01-04 04:24:45.176 +03:00 [WRN] Firebase credential dosyası bulunamadı: firebase-adminsdk.json. Push bildirimleri çalışmayacak.
2026-01-04 04:24:58.696 +03:00 [WRN] Firebase credential dosyası bulunamadı: firebase-adminsdk.json. Push bildirimleri çalışmayacak.
2026-01-04 04:25:09.704 +03:00 [WRN] Firebase credential dosyası bulunamadı: firebase-adminsdk.json. Push bildirimleri çalışmayacak.
2026-01-04 04:25:21.842 +03:00 [WRN] Firebase credential dosyası bulunamadı: firebase-adminsdk.json. Push bildirimleri çalışmayacak.
2026-01-04 04:25:37.083 +03:00 [WRN] Firebase credential dosyası bulunamadı: firebase-adminsdk.json. Push bildirimleri çalışmayacak.
2026-01-04 04:25:50.080 +03:00 [WRN] Firebase credential dosyası bulunamadı: firebase-adminsdk.json. Push bildirimleri çalışmayacak.
2026-01-04 04:25:58.831 +03:00 [WRN] Firebase credential dosyası bulunamadı: firebase-adminsdk.json. Push bildirimleri çalışmayacak.
2026-01-04 04:25:58.963 +03:00 [INF] Veritabanına bağlanılıyor (Deneme 1)...
2026-01-04 04:25:59.646 +03:00 [INF] Veritabanı migration işlemleri başarıyla tamamlandı.
2026-01-04 04:31:31.591 +03:00 [WRN] Firebase credential dosyası bulunamadı: firebase-adminsdk.json. Push bildirimleri çalışmayacak.
2026-01-04 04:31:31.715 +03:00 [INF] Veritabanına bağlanılıyor (Deneme 1)...
2026-01-04 04:31:32.415 +03:00 [INF] Veritabanı migration işlemleri başarıyla tamamlandı.
2026-01-04 04:31:43.838 +03:00 [WRN] Firebase credential dosyası bulunamadı: firebase-adminsdk.json. Push bildirimleri çalışmayacak.
2026-01-04 04:31:43.969 +03:00 [INF] Veritabanına bağlanılıyor (Deneme 1)...
2026-01-04 04:31:44.612 +03:00 [INF] Veritabanı migration işlemleri başarıyla tamamlandı.
2026-01-04 04:31:49.534 +03:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[@p0='?', @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = Decimal), @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?', @p8='?' (DbType = Decimal), @p9='?' (DbType = DateTime), @p10='?', @p11='?', @p12='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CariKartlar" ("Ad", "Adres", "Aktif", "Bakiye", "Email", "GuncellemeTarihi", "IstasyonId", "Kod", "Limit", "OlusturmaTarihi", "TCKN_VKN", "Telefon", "VergiDairesi")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12)
RETURNING "Id";
2026-01-04 04:31:49.544 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'IstasyonDemo.Api.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.ArgumentException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.ArgumentException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2026-01-04 04:32:11.660 +03:00 [ERR] Failed executing DbCommand (0ms) [Parameters=[@p0='?', @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = Decimal), @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?', @p8='?' (DbType = Decimal), @p9='?' (DbType = DateTime), @p10='?', @p11='?', @p12='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CariKartlar" ("Ad", "Adres", "Aktif", "Bakiye", "Email", "GuncellemeTarihi", "IstasyonId", "Kod", "Limit", "OlusturmaTarihi", "TCKN_VKN", "Telefon", "VergiDairesi")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12)
RETURNING "Id";
2026-01-04 04:32:11.664 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'IstasyonDemo.Api.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.ArgumentException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.ArgumentException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2026-01-04 04:33:28.099 +03:00 [WRN] Firebase credential dosyası bulunamadı: firebase-adminsdk.json. Push bildirimleri çalışmayacak.
2026-01-04 04:33:28.232 +03:00 [INF] Veritabanına bağlanılıyor (Deneme 1)...
2026-01-04 04:33:28.888 +03:00 [INF] Veritabanı migration işlemleri başarıyla tamamlandı.
2026-01-04 04:34:06.409 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2026-01-04 04:34:15.914 +03:00 [WRN] Firebase credential dosyası bulunamadı: firebase-adminsdk.json. Push bildirimleri çalışmayacak.
2026-01-04 04:34:16.042 +03:00 [INF] Veritabanına bağlanılıyor (Deneme 1)...
2026-01-04 04:34:16.706 +03:00 [INF] Veritabanı migration işlemleri başarıyla tamamlandı.
2026-01-04 04:35:54.054 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2026-01-04 04:36:32.107 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2026-01-04 04:42:12.787 +03:00 [WRN] Firebase credential dosyası bulunamadı: firebase-adminsdk.json. Push bildirimleri çalışmayacak.
2026-01-04 04:42:24.098 +03:00 [WRN] Firebase credential dosyası bulunamadı: firebase-adminsdk.json. Push bildirimleri çalışmayacak.
2026-01-04 04:47:44.872 +03:00 [WRN] Firebase credential dosyası bulunamadı: firebase-adminsdk.json. Push bildirimleri çalışmayacak.
2026-01-04 04:50:57.474 +03:00 [WRN] Firebase credential dosyası bulunamadı: firebase-adminsdk.json. Push bildirimleri çalışmayacak.
2026-01-04 04:51:01.522 +03:00 [WRN] Firebase credential dosyası bulunamadı: firebase-adminsdk.json. Push bildirimleri çalışmayacak.
2026-01-04 04:56:14.858 +03:00 [WRN] Firebase credential dosyası bulunamadı: firebase-adminsdk.json. Push bildirimleri çalışmayacak.
2026-01-04 04:56:14.998 +03:00 [INF] Veritabanına bağlanılıyor (Deneme 1)...
2026-01-04 04:56:15.705 +03:00 [INF] Veritabanı migration işlemleri başarıyla tamamlandı.
2026-01-04 04:56:23.171 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2026-01-04 05:03:33.142 +03:00 [WRN] Firebase credential dosyası bulunamadı: firebase-adminsdk.json. Push bildirimleri çalışmayacak.
2026-01-04 05:03:33.268 +03:00 [INF] Veritabanına bağlanılıyor (Deneme 1)...
2026-01-04 05:03:33.942 +03:00 [INF] Veritabanı migration işlemleri başarıyla tamamlandı.
2026-01-04 05:03:38.141 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2026-01-04 05:11:24.884 +03:00 [WRN] Firebase credential dosyası bulunamadı: firebase-adminsdk.json. Push bildirimleri çalışmayacak.
2026-01-04 05:11:25.015 +03:00 [INF] Veritabanına bağlanılıyor (Deneme 1)...
2026-01-04 05:11:25.719 +03:00 [INF] Veritabanı migration işlemleri başarıyla tamamlandı.
2026-01-04 05:11:32.048 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2026-01-04 05:22:14.222 +03:00 [WRN] Firebase credential dosyası bulunamadı: firebase-adminsdk.json. Push bildirimleri çalışmayacak.
2026-01-04 05:22:14.361 +03:00 [INF] Veritabanına bağlanılıyor (Deneme 1)...
2026-01-04 05:22:15.051 +03:00 [INF] Veritabanı migration işlemleri başarıyla tamamlandı.
2026-01-04 05:22:17.747 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2026-01-04 05:27:14.589 +03:00 [WRN] Firebase credential dosyası bulunamadı: firebase-adminsdk.json. Push bildirimleri çalışmayacak.
2026-01-04 05:27:14.722 +03:00 [INF] Veritabanına bağlanılıyor (Deneme 1)...
2026-01-04 05:27:15.433 +03:00 [INF] Veritabanı migration işlemleri başarıyla tamamlandı.
2026-01-04 05:27:17.526 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2026-01-04 05:28:25.718 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2026-01-04 05:31:07.277 +03:00 [WRN] Firebase credential dosyası bulunamadı: firebase-adminsdk.json. Push bildirimleri çalışmayacak.
2026-01-04 05:31:07.413 +03:00 [INF] Veritabanına bağlanılıyor (Deneme 1)...
2026-01-04 05:31:08.133 +03:00 [INF] Veritabanı migration işlemleri başarıyla tamamlandı.
2026-01-04 05:31:52.097 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2026-01-04 05:33:44.099 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2026-01-04 05:50:29.501 +03:00 [WRN] Firebase credential dosyası bulunamadı: firebase-adminsdk.json. Push bildirimleri çalışmayacak.
2026-01-04 05:50:29.640 +03:00 [INF] Veritabanına bağlanılıyor (Deneme 1)...
2026-01-04 05:50:30.387 +03:00 [INF] Veritabanı migration işlemleri başarıyla tamamlandı.
2026-01-04 05:52:22.318 +03:00 [WRN] Firebase credential dosyası bulunamadı: firebase-adminsdk.json. Push bildirimleri çalışmayacak.
2026-01-04 05:52:22.460 +03:00 [INF] Veritabanına bağlanılıyor (Deneme 1)...
2026-01-04 05:52:23.163 +03:00 [INF] Veritabanı migration işlemleri başarıyla tamamlandı.
2026-01-04 05:57:32.603 +03:00 [INF] XML Dosyası İşleniyor: 2026010201.zip, Boyut: 604264 bytes
2026-01-04 05:57:32.605 +03:00 [INF] İstasyon Bulundu: Özyön Opet Y.Mahalle (010934)
2026-01-04 05:57:32.625 +03:00 [INF] İstasyon Ayarları Güncellendi: Ver=TURPAK Pumpomat V9001.4.1  Build: 0, Decimals=2/2/2
2026-01-04 05:57:32.628 +03:00 [INF] XML Parsing Debug: Toplam 799 adet 'Txn' elementi bulundu.
2026-01-04 05:57:32.630 +03:00 [INF] İlk Txn Debug: <Txn xmlns="http://tempuri.org/Sale.xsd">
  <TagDetails>
    <FleetCode>C0000</FleetCode>
    <FleetName>İSTASYON</FleetName>
    <TagNr>0244211A</TagNr>
    <Plate>A.VURAL</Plate>
    <EngineHour>0</EngineHour>
    <Odometer>0</Odometer>
  </TagDetails>
  <SaleDetails>
    <TxnType>1</TxnType>
    <DateTime>20260103000845</DateTime>
    <ReceiptNr>257686</ReceiptNr>
    <FuelType>6</FuelType>
    <UnitPrice>5556</UnitPrice>
    <Amount>540</Amount>
    <Total>30000</Total>
    <PumpNr>3</PumpNr>
    <NozzleNr>2</NozzleNr>
    <PaymentType>1</PaymentType>
    <ECRPlate>06BDS069</ECRPlate>
    <ECRReceiptNr>1</ECRReceiptNr>
    <Redemption>0,00</Redemption>
    <DiscountAmount>0,00</DiscountAmount>
    <EarnedPoints>0</EarnedPoints>
    <EarnedMoney>0,00</EarnedMoney>
    <LoyaltyCardNo></LoyaltyCardNo>
    <LoyaltyCardType>0</LoyaltyCardType>
    <FullUnitPrice>55560</FullUnitPrice>
  </SaleDetails>
</Txn>
2026-01-04 05:57:32.631 +03:00 [INF] İlk Txn SaleDetails bulundu mu?: True
2026-01-04 05:57:32.632 +03:00 [INF] İlk Txn ReceiptNr Değeri: 257686
2026-01-04 05:57:32.634 +03:00 [INF] XML İstatistikleri: 6 Tank, 0 Pompa, 799 Satış bulundu.
2026-01-04 05:57:32.667 +03:00 [INF] Tarihler Satışlardan Türetildi: Başlangıç=3.01.2026 00:08:45, Bitiş=3.01.2026 23:56:50
2026-01-04 05:57:32.679 +03:00 [INF] DTO Oluşturuldu: 720 Otomasyon, 79 Filo, 0 Tank satışı eklendi.
2026-01-04 05:57:32.681 +03:00 [INF] Vardiya Genel Toplam Hesaplandı: 855.403,26 TL (Oto: 687.095,19 + Filo: 168.308,07)
2026-01-04 05:57:35.347 +03:00 [INF] Tank 1 (Kurşunsuz): Başlangıç=9733, Bitiş=7558, Delta=2175, Sevkiyat=0, BeklenenTüketim=2175, SatilanMiktar=2175, FARK=0
2026-01-04 05:57:35.348 +03:00 [INF] Tank 2 (Kurşunsuz): Başlangıç=18343, Bitiş=18357, Delta=-14, Sevkiyat=0, BeklenenTüketim=-14, SatilanMiktar=-14, FARK=0
2026-01-04 05:57:35.349 +03:00 [INF] Tank 3 (Kurşunsuz): Başlangıç=13247, Bitiş=9415, Delta=3832, Sevkiyat=0, BeklenenTüketim=3832, SatilanMiktar=3832, FARK=0
2026-01-04 05:57:35.350 +03:00 [INF] Tank 4 (Motorin): Başlangıç=7923, Bitiş=5915, Delta=2008, Sevkiyat=0, BeklenenTüketim=2008, SatilanMiktar=2008, FARK=0
2026-01-04 05:57:35.351 +03:00 [INF] Tank 5 (Motorin): Başlangıç=17407, Bitiş=17415, Delta=-8, Sevkiyat=0, BeklenenTüketim=-8, SatilanMiktar=-8, FARK=0
2026-01-04 05:57:35.351 +03:00 [INF] Tank 6 (Motorin): Başlangıç=12894, Bitiş=8941, Delta=3953, Sevkiyat=0, BeklenenTüketim=3953, SatilanMiktar=3953, FARK=0
2026-01-04 05:57:35.370 +03:00 [INF] Tank Envanteri Kaydedildi: 6 tank kaydı oluşturuldu.
2026-01-04 05:57:55.372 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2026-01-04 05:58:47.934 +03:00 [INF] XML Dosyası İşleniyor: 2025123101.zip, Boyut: 440939 bytes
2026-01-04 05:58:47.935 +03:00 [INF] İstasyon Bulundu: Özyön Opet Y.Mahalle (010934)
2026-01-04 05:58:47.941 +03:00 [INF] İstasyon Ayarları Güncellendi: Ver=TURPAK Pumpomat V9.2.0  Build: 37, Decimals=2/2/2
2026-01-04 05:58:47.943 +03:00 [INF] XML Parsing Debug: Toplam 581 adet 'Txn' elementi bulundu.
2026-01-04 05:58:47.944 +03:00 [INF] İlk Txn Debug: <Txn xmlns="http://tempuri.org/Sale.xsd">
  <TagDetails>
    <FleetCode>155678</FleetCode>
    <FleetName></FleetName>
    <TagNr>CCB15352</TagNr>
    <Plate>06FDG767</Plate>
    <EngineHour>0</EngineHour>
    <Odometer>0</Odometer>
  </TagDetails>
  <SaleDetails>
    <TxnType>3</TxnType>
    <DateTime>20260101000209</DateTime>
    <ReceiptNr>256329</ReceiptNr>
    <FuelType>6</FuelType>
    <UnitPrice>5540</UnitPrice>
    <Amount>3827</Amount>
    <Total>212016</Total>
    <PumpNr>5</PumpNr>
    <NozzleNr>2</NozzleNr>
    <PaymentType>2</PaymentType>
    <ECRPlate>06FDG767</ECRPlate>
    <ECRReceiptNr>1</ECRReceiptNr>
    <Redemption>0,00</Redemption>
    <DiscountAmount>0,00</DiscountAmount>
    <EarnedPoints>0</EarnedPoints>
    <EarnedMoney>0,00</EarnedMoney>
    <LoyaltyCardNo></LoyaltyCardNo>
    <LoyaltyCardType>0</LoyaltyCardType>
    <FullUnitPrice>55400</FullUnitPrice>
  </SaleDetails>
</Txn>
2026-01-04 05:58:47.945 +03:00 [INF] İlk Txn SaleDetails bulundu mu?: True
2026-01-04 05:58:47.946 +03:00 [INF] İlk Txn ReceiptNr Değeri: 256329
2026-01-04 05:58:47.947 +03:00 [INF] XML İstatistikleri: 6 Tank, 0 Pompa, 581 Satış bulundu.
2026-01-04 05:58:47.955 +03:00 [INF] Tarihler Satışlardan Türetildi: Başlangıç=1.01.2026 00:02:09, Bitiş=1.01.2026 23:53:03
2026-01-04 05:58:47.962 +03:00 [INF] DTO Oluşturuldu: 545 Otomasyon, 36 Filo, 0 Tank satışı eklendi.
2026-01-04 05:58:47.963 +03:00 [INF] Vardiya Genel Toplam Hesaplandı: 599.200,93 TL (Oto: 527.757,93 + Filo: 71.443,00)
2026-01-04 05:58:49.721 +03:00 [INF] Tank 1 (Kurşunsuz): Başlangıç=16190, Bitiş=12525, Delta=3665, Sevkiyat=0, BeklenenTüketim=3665, SatilanMiktar=3665, FARK=0
2026-01-04 05:58:49.722 +03:00 [INF] Tank 2 (Kurşunsuz): Başlangıç=18284, Bitiş=18322, Delta=-38, Sevkiyat=0, BeklenenTüketim=-38, SatilanMiktar=-38, FARK=0
2026-01-04 05:58:49.722 +03:00 [INF] Tank 3 (Kurşunsuz): Başlangıç=17078, Bitiş=16081, Delta=997, Sevkiyat=0, BeklenenTüketim=997, SatilanMiktar=997, FARK=0
2026-01-04 05:58:49.723 +03:00 [INF] Tank 4 (Motorin): Başlangıç=15075, Bitiş=12276, Delta=2799, Sevkiyat=0, BeklenenTüketim=2799, SatilanMiktar=2799, FARK=0
2026-01-04 05:58:49.724 +03:00 [INF] Tank 5 (Motorin): Başlangıç=17359, Bitiş=17385, Delta=-26, Sevkiyat=0, BeklenenTüketim=-26, SatilanMiktar=-26, FARK=0
2026-01-04 05:58:49.724 +03:00 [INF] Tank 6 (Motorin): Başlangıç=16551, Bitiş=15777, Delta=774, Sevkiyat=0, BeklenenTüketim=774, SatilanMiktar=774, FARK=0
2026-01-04 05:58:49.731 +03:00 [INF] Tank Envanteri Kaydedildi: 6 tank kaydı oluşturuldu.
2026-01-04 06:22:49.771 +03:00 [WRN] Firebase credential dosyası bulunamadı: firebase-adminsdk.json. Push bildirimleri çalışmayacak.
2026-01-04 06:22:49.912 +03:00 [INF] Veritabanına bağlanılıyor (Deneme 1)...
2026-01-04 06:22:50.589 +03:00 [INF] Veritabanı migration işlemleri başarıyla tamamlandı.
2026-01-04 06:28:28.198 +03:00 [WRN] Firebase credential dosyası bulunamadı: firebase-adminsdk.json. Push bildirimleri çalışmayacak.
2026-01-04 06:28:28.336 +03:00 [INF] Veritabanına bağlanılıyor (Deneme 1)...
2026-01-04 06:28:28.942 +03:00 [WRN] Veritabanı henüz hazır değil veya migration hatası: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'AppDbContext' has pending changes. Add a new migration before updating the database. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.. 5 saniye sonra tekrar denenecek...
2026-01-04 06:28:33.949 +03:00 [INF] Veritabanına bağlanılıyor (Deneme 2)...
2026-01-04 06:28:33.961 +03:00 [WRN] Veritabanı henüz hazır değil veya migration hatası: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'AppDbContext' has pending changes. Add a new migration before updating the database. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.. 5 saniye sonra tekrar denenecek...
2026-01-04 06:28:38.976 +03:00 [INF] Veritabanına bağlanılıyor (Deneme 3)...
2026-01-04 06:28:38.997 +03:00 [WRN] Veritabanı henüz hazır değil veya migration hatası: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'AppDbContext' has pending changes. Add a new migration before updating the database. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.. 5 saniye sonra tekrar denenecek...
2026-01-04 06:28:44.000 +03:00 [INF] Veritabanına bağlanılıyor (Deneme 4)...
2026-01-04 06:28:44.014 +03:00 [WRN] Veritabanı henüz hazır değil veya migration hatası: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'AppDbContext' has pending changes. Add a new migration before updating the database. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.. 5 saniye sonra tekrar denenecek...
2026-01-04 06:28:49.025 +03:00 [INF] Veritabanına bağlanılıyor (Deneme 5)...
2026-01-04 06:28:49.031 +03:00 [WRN] Veritabanı henüz hazır değil veya migration hatası: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'AppDbContext' has pending changes. Add a new migration before updating the database. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.. 5 saniye sonra tekrar denenecek...
2026-01-04 06:28:54.034 +03:00 [INF] Veritabanına bağlanılıyor (Deneme 6)...
2026-01-04 06:28:54.039 +03:00 [WRN] Veritabanı henüz hazır değil veya migration hatası: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'AppDbContext' has pending changes. Add a new migration before updating the database. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.. 5 saniye sonra tekrar denenecek...
2026-01-04 06:28:59.054 +03:00 [INF] Veritabanına bağlanılıyor (Deneme 7)...
2026-01-04 06:28:59.059 +03:00 [WRN] Veritabanı henüz hazır değil veya migration hatası: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'AppDbContext' has pending changes. Add a new migration before updating the database. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.. 5 saniye sonra tekrar denenecek...
2026-01-04 06:29:04.075 +03:00 [INF] Veritabanına bağlanılıyor (Deneme 8)...
2026-01-04 06:29:04.080 +03:00 [WRN] Veritabanı henüz hazır değil veya migration hatası: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'AppDbContext' has pending changes. Add a new migration before updating the database. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.. 5 saniye sonra tekrar denenecek...
2026-01-04 06:29:09.081 +03:00 [INF] Veritabanına bağlanılıyor (Deneme 9)...
2026-01-04 06:29:09.085 +03:00 [WRN] Veritabanı henüz hazır değil veya migration hatası: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'AppDbContext' has pending changes. Add a new migration before updating the database. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.. 5 saniye sonra tekrar denenecek...
2026-01-04 06:29:14.090 +03:00 [INF] Veritabanına bağlanılıyor (Deneme 10)...
2026-01-04 06:29:14.095 +03:00 [WRN] Veritabanı henüz hazır değil veya migration hatası: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'AppDbContext' has pending changes. Add a new migration before updating the database. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.. 5 saniye sonra tekrar denenecek...
2026-01-04 06:29:19.102 +03:00 [FTL] Veritabanı migration işlemi 10 deneme sonunda başarısız oldu. Uygulama durduruluyor.
System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'AppDbContext' has pending changes. Add a new migration before updating the database. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.
   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`1.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam arg)
   at Microsoft.EntityFrameworkCore.Diagnostics.RelationalLoggerExtensions.PendingModelChangesWarning(IDiagnosticsLogger`1 diagnostics, Type contextType)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.Migrate(String targetMigration)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlMigrator.Migrate(String targetMigration)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.Migrate(DatabaseFacade databaseFacade)
   at Program.<Main>$(String[] args) in C:\Users\user\TiShift\istasyon\backend\IstasyonDemo.Api\Program.cs:line 271
2026-01-04 06:29:19.108 +03:00 [FTL] Veritabanı başlatma işlemi sırasında kritik bir hata oluştu.
System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'AppDbContext' has pending changes. Add a new migration before updating the database. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.
   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`1.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam arg)
   at Microsoft.EntityFrameworkCore.Diagnostics.RelationalLoggerExtensions.PendingModelChangesWarning(IDiagnosticsLogger`1 diagnostics, Type contextType)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.Migrate(String targetMigration)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlMigrator.Migrate(String targetMigration)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.Migrate(DatabaseFacade databaseFacade)
   at Program.<Main>$(String[] args) in C:\Users\user\TiShift\istasyon\backend\IstasyonDemo.Api\Program.cs:line 271
